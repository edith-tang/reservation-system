@model ReservationSystem.Data.Reservation

@{
    ViewData["Title"] = "Reservation Details";
}

<h4>Reservation Details</h4>
<p></p>

<table class="table" id="SittingInfo">
    <thead>
        <tr>
            <th scope="col">@Html.DisplayNameFor(model => model.Sitting.Date)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.Sitting.SittingCategory.Name)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.Sitting.SittingCategory.StartTime)</th>
            <th scope="col">@Html.DisplayNameFor(model => model.Sitting.SittingCategory.EndTime)</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <th scope="row">@Html.DisplayFor(model => model.Sitting.Date)</th>
            <td>@Html.DisplayFor(model => model.Sitting.SittingCategory.Name)</td>
            <td>@Html.DisplayFor(model => model.Sitting.SittingCategory.StartTime)</td>
            <td>@Html.DisplayFor(model => model.Sitting.SittingCategory.EndTime)</td>
        </tr>
    </tbody>
</table>

<div class="row" id="ReservationInfo">
    <div class="col-6">
        <dl class="row">
            <dt class="col-6">
                @Html.DisplayNameFor(model => model.NumOfGuests)
            </dt>
            <dd class="col-6">
                @Html.DisplayFor(model => model.NumOfGuests)
            </dd>
            <dt class="col-6">
                @Html.DisplayNameFor(model => model.ExpectedStartTime)
            </dt>
            <dd class="col-6">
                @Html.DisplayFor(model => model.ExpectedStartTime)
            </dd>
            <dt class="col-6">
                @Html.DisplayNameFor(model => model.ExpectedEndTime)
            </dt>
            <dd class="col-6">
                @Html.DisplayFor(model => model.ExpectedEndTime)
            </dd>
            <dt class="col-6">
                @Html.DisplayNameFor(model => model.Notes)
            </dt>
            <dd class="col-6">
                @Html.DisplayFor(model => model.Notes)
            </dd>
        </dl>
    </div>
    <div class="col-6">
        <dl class="row">
            <dt class="col-6">
                @Html.DisplayNameFor(model => model.TimeOfBooking)
            </dt>
            <dd class="col-6">
                @Html.DisplayFor(model => model.TimeOfBooking)
            </dd>
            <dt class="col-6">
                @Html.DisplayNameFor(model => model.WayOfBooking)
            </dt>
            <dd class="col-6">
                @Html.DisplayFor(model => model.WayOfBooking)
            </dd>
            <dt class="col-6">
                @Html.DisplayNameFor(model => model.Status)
            </dt>
            <dd class="col-6">
                @Html.DisplayFor(model => model.Status)
            </dd>
            <dt class="col-6">
                @Html.DisplayNameFor(model => model.Customer)
            </dt>
            <dd class="col-6">
                @Html.DisplayFor(model => model.Customer.CustEmail)
            </dd>
        </dl>
    </div>
</div>


@if ((int)Model.Status == 0)
{
    <a class="btn btn-primary" asp-action="Allocate" asp-controller="SittingUnit" asp-route-id="@Model.Id">Allocate</a>
}
else if ((int)Model.Status == 1)
{
    <a class="btn btn-primary" asp-action="Allocate" asp-controller="SittingUnit" asp-route-id="@Model.Id">Reallocate</a>
}
@*else if ((int)Model.Status > 2)
{
    <a class="btn btn-primary" asp-action="" asp-controller="SittingUnit" asp-route-id="@Model.Id">More Info</a>
}*@

@if ((int)Model.Status < 2)
{
    <a id="cancel" class="btn btn-primary" asp-action="CancelReservation" asp-controller="Reservation" asp-route-id="@Model.Id">Cancel</a>
}

    <a class="btn btn-info float-left" asp-action="IndexReservation">Back to List</a>

@section Scripts {
    <script>
        $("#cancel").on("click", () => {
            if (confirm("Do you want to cancel this allocation?")) { }
            else { return false; }
        });
    </script>
}
